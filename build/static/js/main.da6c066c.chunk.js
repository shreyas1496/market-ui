(this["webpackJsonpmarket-ui"]=this["webpackJsonpmarket-ui"]||[]).push([[0],{42:function(e,t,a){},43:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),l=a.n(r),s=(a(42),a(29)),o=a(21),i=(a(43),a(34)),u=a(26),b=a(73),j=a(72),d=a(23);a(51),a(52);d.a.apps.length||(d.a.initializeApp({apiKey:"AIzaSyAMa3AxZtC7telPQ5brHaHWodZaoG5d8r0",authDomain:"quickynotify.firebaseapp.com",projectId:"quickynotify",storageBucket:"quickynotify.appspot.com",messagingSenderId:"960543983205",appId:"1:960543983205:web:65c7260dc369d72c71e88c",measurementId:"G-5LVNTZHCYL"}),d.a.analytics());var v=d.a,g=a(4),p=v.messaging(),h=function(e){var t=e.setToken,a=Notification.permission,c=Object(n.useState)("granted"===a),r=Object(o.a)(c,2),l=r[0],s=r[1],i=Object(n.useCallback)((function(){p.getToken().then((function(e){s(!0),t(e)})).catch((function(e){console.log(e),s(!1)}))}),[t]);return Object(n.useEffect)((function(){"granted"===a&&i()}),[a,i]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(b.a,{control:Object(g.jsx)(j.a,{checked:l,onChange:i,name:"checkedA"}),label:"Notifications"})})},O=[{key:"name",label:"Name"},{key:"prevClose",label:"Prev Close"},{key:"ltp",label:"ltp",cell:function(e){return Object(g.jsx)("div",{style:{backgroundColor:e.ltp>e.prevClose?"green":"red"},children:e.ltp})}},{key:"movingAverageValues[0].value",label:"44 - avg"},{key:"movingAverageValues[0].leads",label:"44 - leads"},{key:"movingAverageValues[1].value",label:"20 - avg"},{key:"movingAverageValues[1].leads",label:"20 - leads"},{key:"movingAverageValues[2].value",label:"10 - avg"},{key:"movingAverageValues[2].leads",label:"10 - leads"}];var m=function(){var e=Object(n.useState)("0"),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),l=Object(o.a)(r,2),b=l[0],j=l[1],d=Object(i.a)("https://shreyas1496.tech/market-api/data",{},[]),v=d.loading,p=d.error,m=d.data,f=void 0===m?[]:m,k=d.post,y=Object(n.useMemo)((function(){var e=f.map((function(e){var t=Math.abs(e.ltp-Object(u.get)(e,"movingAverageValues[".concat(a,"].value")))/e.ltp;return Object(s.a)(Object(s.a)({},e),{},{closeNess:t})}));return Object(u.orderBy)(e,"closeNess","asc")}),[a,f]),x=Object(n.useCallback)((function(){var e=setInterval((function(){return k("?date=".concat(Date.now()),{"fcm-token":b})}),2e4);return function(){return clearInterval(e)}}),[b,k]);return Object(n.useEffect)(x,[x]),Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)("header",{className:"App-header",children:[Object(g.jsx)(h,{setToken:j}),Object(g.jsxs)("select",{style:{padding:"20px"},value:a,onChange:function(e){return c(e.target.value)},children:[Object(g.jsx)("option",{value:"0",children:"44"}),Object(g.jsx)("option",{value:"1",children:"20"}),Object(g.jsx)("option",{value:"2",children:"10"})]})]}),Object(g.jsxs)("section",{className:"tables",children:[p&&"Error!",v&&"Loading...",Object(g.jsxs)("table",{children:[Object(g.jsx)("thead",{children:Object(g.jsx)("tr",{children:O.map((function(e){var t=e.key,a=e.label;return Object(g.jsx)("th",{children:a},t)}))})}),Object(g.jsx)("tbody",{children:y.map((function(e){return Object(g.jsx)("tr",{children:O.map((function(t){var a=t.key,n=t.cell;return Object(g.jsx)("td",{children:n?n(e):Object(u.get)(e,a)},a)}))},e.name)}))})]})]})]})},f=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,74)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,l=t.getTTFB;a(e),n(e),c(e),r(e),l(e)}))};l.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(m,{})}),document.getElementById("root")),f()}},[[50,1,2]]]);
//# sourceMappingURL=main.da6c066c.chunk.js.map