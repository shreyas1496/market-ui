(this["webpackJsonpmarket-ui"]=this["webpackJsonpmarket-ui"]||[]).push([[0],{42:function(e,t,a){},43:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),l=a.n(r),o=(a(42),a(29)),s=a(21),i=(a(43),a(34)),u=a(26),b=a(73),d=a(72),j=a(23);a(51),a(52);j.a.apps.length||(j.a.initializeApp({apiKey:"AIzaSyAMa3AxZtC7telPQ5brHaHWodZaoG5d8r0",authDomain:"quickynotify.firebaseapp.com",projectId:"quickynotify",storageBucket:"quickynotify.appspot.com",messagingSenderId:"960543983205",appId:"1:960543983205:web:65c7260dc369d72c71e88c",measurementId:"G-5LVNTZHCYL"}),j.a.analytics());var g=j.a,v=a(4),p=g.messaging();p.onMessage((function(e){console.log("Message received. ",e),new Notification(e.notification.title,{body:e.notification.body})}));var h=function(e){var t=e.setToken,a=Notification.permission,c=Object(n.useState)("granted"===a),r=Object(s.a)(c,2),l=r[0],o=r[1],i=Object(n.useCallback)((function(){p.getToken().then((function(e){o(!0),t(e)})).catch((function(e){console.log(e),o(!1)}))}),[t]);return Object(n.useEffect)((function(){"granted"===a&&i()}),[a,i]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(b.a,{control:Object(v.jsx)(d.a,{checked:l,onChange:i,name:"checkedA"}),label:"Notifications"})})},O=[{key:"name",label:"Name"},{key:"prevClose",label:"Prev Close"},{key:"ltp",label:"ltp",cell:function(e){return Object(v.jsx)("div",{style:{backgroundColor:e.ltp>e.prevClose?"green":"red"},children:e.ltp})}},{key:"movingAverageValues[0].value",label:"44 - avg"},{key:"movingAverageValues[0].leads",label:"44 - leads"},{key:"movingAverageValues[1].value",label:"20 - avg"},{key:"movingAverageValues[1].leads",label:"20 - leads"},{key:"movingAverageValues[2].value",label:"10 - avg"},{key:"movingAverageValues[2].leads",label:"10 - leads"}];var f=function(){var e=Object(n.useState)("0"),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),l=Object(s.a)(r,2),b=l[0],d=l[1],j=Object(i.a)("https://shreyas1496.tech/market-api/data",{},[]),g=j.loading,p=j.error,f=j.data,m=void 0===f?[]:f,k=j.post,y=Object(n.useMemo)((function(){var e=m.map((function(e){var t=Math.abs(e.ltp-Object(u.get)(e,"movingAverageValues[".concat(a,"].value")))/e.ltp;return Object(o.a)(Object(o.a)({},e),{},{closeNess:t})}));return Object(u.orderBy)(e,"closeNess","asc")}),[a,m]),x=Object(n.useCallback)((function(){var e=setInterval((function(){return k("?date=".concat(Date.now()),{"fcm-token":b})}),2e4);return function(){return clearInterval(e)}}),[b,k]);return Object(n.useEffect)(x,[x]),Object(v.jsxs)("div",{className:"App",children:[Object(v.jsxs)("header",{className:"App-header",children:[Object(v.jsx)(h,{setToken:d}),Object(v.jsxs)("select",{style:{padding:"5px",margin:"10px"},value:a,onChange:function(e){return c(e.target.value)},children:[Object(v.jsx)("option",{value:"0",children:"44"}),Object(v.jsx)("option",{value:"1",children:"20"}),Object(v.jsx)("option",{value:"2",children:"10"})]})]}),Object(v.jsxs)("section",{className:"tables",children:[p&&"Error!",g&&"Loading...",Object(v.jsxs)("table",{children:[Object(v.jsx)("thead",{children:Object(v.jsx)("tr",{children:O.map((function(e){var t=e.key,a=e.label;return Object(v.jsx)("th",{children:a},t)}))})}),Object(v.jsx)("tbody",{children:y.map((function(e){return Object(v.jsx)("tr",{children:O.map((function(t){var a=t.key,n=t.cell;return Object(v.jsx)("td",{children:n?n(e):Object(u.get)(e,a)},a)}))},e.name)}))})]})]})]})},m=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,74)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,l=t.getTTFB;a(e),n(e),c(e),r(e),l(e)}))};l.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(f,{})}),document.getElementById("root")),m()}},[[50,1,2]]]);
//# sourceMappingURL=main.df10136e.chunk.js.map